!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([425,0]),n()}({425:function(e,t,n){n(93),e.exports=n(428)},428:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(61),i=n.n(a),c=n(71),u=n.n(c),l=n(29),s=n(131),f=n(38),d=n(91),p=n(2),h=n(92),y=n(62),b=n.n(y);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.jsonld=b.a;var j={method:"POST",headers:{"Content-Type":"application/n-quads"}},S="http://www.w3.org/1999/02/22-rdf-syntax-ns#value";function P(e,t,n,r,o){e.push("_:".concat(t," <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://underlay.mit.edu/ns#Query> ."),"_:".concat(t,"-b <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Bundle> _:").concat(t," ."),"_:".concat(t,'-b <http://purl.org/dc/terms/extent> "').concat(n,'"^^<http://www.w3.org/2001/XMLSchema#integer> _:').concat(t," ."));var a=r.reduceRight((function(n,r,o){var a=r["@id"],i=r[S],c="_:".concat(t,"-").concat(o);return e.push("".concat(c," <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> <").concat(a,"> _:").concat(t," ."),"".concat(c," <http://www.w3.org/1999/02/22-rdf-syntax-ns#rest> ").concat(n," _:").concat(t," .")),void 0!==i&&e.push("<".concat(a,"> <").concat(S,"> ").concat(x(i)," _:").concat(t," .")),c}),"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>");e.push("_:".concat(t,"-b <http://underlay.mit.edu/ns#index> ").concat(a," _:").concat(t," ."),"_:".concat(t,"-b <http://underlay.mit.edu/ns#enumerates> ").concat(o," _:").concat(t," ."))}function x(e){if("string"==typeof e)return JSON.stringify(e);if("number"==typeof e)return e===parseInt(e)?'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#integer>'):'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#double>');if("boolean"==typeof e)return'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#boolean>');if("object"===O(e)){var t=e["@value"],n=e["@type"],r=e["@language"];return void 0!==r?"".concat(JSON.stringify(t),"@").concat(r):"http://www.w3.org/2001/XMLSchema#string"===n?JSON.stringify(t):void 0!==n?"".concat(JSON.stringify(t),"^^<").concat(n,">"):JSON.stringify(t)}}function _(e,t,n,r,o,a){var i,c,u,l,s,f,d,p,h,y,b,m,w,S,_,E,M,k,D,U,R,C,I,N,T,z,L,A,q,J,Q,X,F;return regeneratorRuntime.async((function(G){for(;;)switch(G.prev=G.next){case 0:return P(i=[],"s",t,n,"_:s-e"),i.push("<".concat(e,"> _:predicate _:object _:s-e .")),P(i,"o",r,o,"_:o-e"),i.push("_:subject _:predicate <".concat(e,"> _:o-e .")),i.push(""),G.next=8,regeneratorRuntime.awrap(fetch("/",g({},j,{body:i.join("\n")})));case 8:return c=G.sent,G.next=11,regeneratorRuntime.awrap(c.json());case 11:u=G.sent,l=u["@graph"].find((function(e){return"q:_:s"===e["u:instanceOf"]})),s=u["@graph"].find((function(e){return"q:_:o"===e["u:instanceOf"]})),f=!0,d=!1,p=void 0,G.prev=17,h=l["@graph"].value[Symbol.iterator]();case 19:if(f=(y=h.next()).done){G.next=30;break}if(b=y.value,m=b.value,w=b.wasDerivedFrom,void 0!==m&&0!==m.length){G.next=23;break}return G.abrupt("break",30);case 23:S=m.find((function(e){return"q:_:predicate"===e["@id"]})),_=S["rdf:value"]["@id"],E=m.find((function(e){return"q:_:object"===e["@id"]})),M=E["rdf:value"],k=v(w.hadMember,1),(D=k[0]["@id"])in a._graphs||("object"===O(M)&&"string"==typeof M["@id"]?a.addQuad(e,_,M["@id"],D):a.addQuad(e,_,x(M),D));case 27:f=!0,G.next=19;break;case 30:G.next=36;break;case 32:G.prev=32,G.t0=G.catch(17),d=!0,p=G.t0;case 36:G.prev=36,G.prev=37,f||null==h.return||h.return();case 39:if(G.prev=39,!d){G.next=42;break}throw p;case 42:return G.finish(39);case 43:return G.finish(36);case 44:U=!0,R=!1,C=void 0,G.prev=47,I=s["@graph"].value[Symbol.iterator]();case 49:if(U=(N=I.next()).done){G.next=60;break}if(T=N.value,z=T.value,L=T.wasDerivedFrom,void 0!==z&&0!==z.length){G.next=53;break}return G.abrupt("break",60);case 53:A=z.find((function(e){return"q:_:subject"===e["@id"]})),q=A["rdf:value"]["@id"],J=z.find((function(e){return"q:_:predicate"===e["@id"]})),Q=J["rdf:value"]["@id"],X=v(L.hadMember,1),(F=X[0]["@id"])in a._graphs||a.addQuad(q,Q,e,F);case 57:U=!0,G.next=49;break;case 60:G.next=66;break;case 62:G.prev=62,G.t1=G.catch(47),R=!0,C=G.t1;case 66:G.prev=66,G.prev=67,U||null==I.return||I.return();case 69:if(G.prev=69,!R){G.next=72;break}throw C;case 72:return G.finish(69);case 73:return G.finish(66);case 74:case"end":return G.stop()}}),null,null,[[17,32,36,44],[37,,39,43],[47,62,66,74],[67,,69,73]])}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z="json-ld-1.1",L=document.querySelector("main"),A=document.title,q=location.origin+location.pathname;var J,Q,X=(J="",Q=Object(l.getInitialContext)({base:J}),Object(l.process)({activeCtx:Q,localCtx:h,processingMode:z})),F=function(e,t){return Object(s.compactIri)({activeCtx:X,iri:e,relativeTo:{vocab:!!t}})},G=function(e){return function(t){var n=t.target;return e(Object(p.o)(n.id()))}},B=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=U(t).call(this,e),n=!o||"object"!==E(o)&&"function"!=typeof o?R(r):o,T(R(n),"handleSubmit",(function(e){e.preventDefault(),t.validateURI(n.state.value)&&(location.hash=encodeURIComponent(n.state.value))})),T(R(n),"handleChange",(function(e){var t=e.target.value;return n.setState({value:t})})),T(R(n),"handleSelect",(function(e){return location.hash=encodeURIComponent(e)})),T(R(n),"handleUnselect",(function(e){})),T(R(n),"handleMouseOver",(function(e){})),T(R(n),"handleMouseOut",(function(e){})),T(R(n),"handleMount",(function(e){return n.cy=window.cy=e})),T(R(n),"handleDestroy",(function(){}));var a=decodeURIComponent(location.hash.slice(1));t.validateURI(a)?n.state=D({},t.Null,{id:a}):n.state=D({},t.Null,{value:""}),n.cy=null;var i=null===n.state.id?"":location.hash;return history.replaceState({id:a},A,q+i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),I(t,null,[{key:"validateURI",value:function(e){try{new URL(e)}catch(e){return!1}return!0}}]),I(t,[{key:"componentDidMount",value:function(){var e=this;if(addEventListener("hashchange",(function(){var n=decodeURIComponent(location.hash.slice(1));if(t.validateURI(n)&&n!==e.state.id)if(history.replaceState({id:n},A,q+location.hash),null===e.state.store){var r=new u.a;window.store=r,_(n,t.SubjectPageSize,[],t.ObjectPageSize,[],r).then((function(){return e.setState({id:n,store:r})}))}else e.state.store.forEach((function(e){e.subject.id!==n&&e.object.id!==n&&store.removeQuad(e)})),_(n,t.SubjectPageSize,[],t.ObjectPageSize,[],e.state.store).then((function(){return e.setState({id:n})}));else history.replaceState({id:e.state.id},A,q),e.setState(D({},t.Null,{value:e.state.value||""}))})),null!==this.state.id){var n=new u.a;window.store=n,_(this.state.id,t.SubjectPageSize,[],t.ObjectPageSize,[],n).then((function(){return e.setState({store:n})}))}}},{key:"componentDidUpdate",value:function(e,t,n){var r=this;if(t.id!==this.state.id&&null!==this.state.store){var o={},a={},i={},c=this.state.store.getQuads(),u=!0,l=!1,s=void 0;try{for(var h,y=c[Symbol.iterator]();!(u=(h=y.next()).done);u=!0){var b=h.value,v=b.subject,m=b.predicate,g=b.object,w=b.graph;f.a.createNode(v,o,null);var O=m.id;if("Literal"===g.termType){var j=o[v.id].literals;Array.isArray(j[O])?j[O].push(g):j[O]=[g]}else if("NamedNode"===g.termType&&O===p.f)o[v.id].types.push(g.id);else{f.a.createNode(g,o,null);var S=encode(w.id),P=F(O,!0),x=M([v.id,g.id].map(encode),2),_=x[0],E=x[1];a[w.id]={id:S,iri:O,name:P,source:_,target:E}}}}catch(e){l=!0,s=e}finally{try{u||null==y.return||y.return()}finally{if(l)throw s}}for(var k in o){var D=o[k],U=D.literals,R=D.types,C=M(Object(d.a)(k,R,U,F),3),I=C[0],N=C[1],T=C[2];i[k]={id:encode(k),svg:f.a.DataURIPrefix+encodeURIComponent(f.a.SVGPrefix+I),width:N,height:T}}this.cy.batch((function(){for(var e in r.cy.nodes().forEach((function(e){if(!e.removed()){var t=Object(p.o)(e.id());if(i.hasOwnProperty(t)){var n=i[t],r=n.svg,o=n.width,a=n.height;e.data({svg:r,width:o,height:a}),delete i[t]}else e.remove()}})),r.cy.add(Object.keys(i).map((function(e){return{group:"nodes",data:i[e]}}))).on("mouseover",G(r.handleMouseOver)).on("mouseout",G(r.handleMouseOut)).on("select",G(r.handleSelect)).on("unselect",G(r.handleUnselect)),r.cy.edges().forEach((function(e){var t=Object(p.o)(e.id());a.hasOwnProperty(t)?delete a[t]:e.remove()})),a)r.cy.add({group:"edges",data:a[e]});r.cy.layout({name:"breadthfirst",roots:"#".concat(encode(r.state.id)),circle:!1,spacingFactor:1,animate:!0,padding:50}).run().on("layoutstop",(function(){return r.cy.animate({fit:{padding:50}})}))}))}}},{key:"render",value:function(){var e=this.state,n=e.id,r=e.value;if(null===n){var a=!t.validateURI(r);return o.a.createElement("div",{className:"empty"},o.a.createElement("p",null,"Enter a URI:"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",placeholder:"http://...",value:r,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",disabled:a,value:"Go"})),o.a.createElement("p",null,"Examples:"),o.a.createElement("ul",null,t.Examples.map((function(e){return o.a.createElement("li",{key:e},o.a.createElement("a",{href:"#".concat(encodeURIComponent(e))},e))}))))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",null,o.a.createElement("div",{className:"path"}),o.a.createElement("button",null,"Page more incoming properties")," |"," ",o.a.createElement("button",null,"Page more outgoing properties")),this.renderGraph())}},{key:"renderGraph",value:function(){var e=this.state,t=e.store,n=e.id;return null===t?o.a.createElement("p",null,"Loading..."):0===t.size?o.a.createElement("p",null,"No data found for ",n):o.a.createElement(f.a,{focus:n,graph:null,store:t,context:X,onSelect:this.handleSelect,onUnselect:this.handleUnselect,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMount:this.handleMount,onDestroy:this.handleDestroy})}}]),t}(o.a.Component);T(B,"SubjectPageSize",10),T(B,"ObjectPageSize",10),T(B,"Examples",["http://schema.org/DigitalDocument","dweb:/ipfs/QmfCtdbfajVvzTsoUDMLBWvJtnh6mpA6SQTBwrMWCEhmdt"]),T(B,"Null",{value:null,id:null,store:null}),i.a.render(o.a.createElement(B,null),L)}});