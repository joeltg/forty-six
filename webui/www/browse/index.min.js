!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([410,0]),n()}({410:function(e,t,n){n(89),e.exports=n(413)},413:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(35),i=n.n(a),c=n(71),u=n.n(c),l=n(17),s=n(70),f=n(39),p=n(87),d=n(2),h=n(88),y=n(61),b=n.n(y);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.jsonld=b.a;var S={method:"POST",headers:{"Content-Type":"application/n-quads"}},P="http://www.w3.org/1999/02/22-rdf-syntax-ns#value";function x(e,t,n,r,o){e.push("_:".concat(t," <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://underlay.mit.edu/ns#Query> ."),"_:".concat(t,"-b <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Bundle> _:").concat(t," ."),"_:".concat(t,'-b <http://purl.org/dc/terms/extent> "').concat(n,'"^^<http://www.w3.org/2001/XMLSchema#integer> _:').concat(t," ."));var a=r.reduceRight((function(n,r,o){var a=r["@id"],i=r[P],c="_:".concat(t,"-").concat(o);return e.push("".concat(c," <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> <").concat(a,"> _:").concat(t," ."),"".concat(c," <http://www.w3.org/1999/02/22-rdf-syntax-ns#rest> ").concat(n," _:").concat(t," .")),void 0!==i&&e.push("<".concat(a,"> <").concat(P,"> ").concat(_(i)," _:").concat(t," .")),c}),"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>");e.push("_:".concat(t,"-b <http://underlay.mit.edu/ns#index> ").concat(a," _:").concat(t," ."),"_:".concat(t,"-b <http://underlay.mit.edu/ns#enumerates> ").concat(o," _:").concat(t," ."))}function _(e){if("string"==typeof e)return JSON.stringify(e);if("number"==typeof e)return e===parseInt(e)?'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#integer>'):'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#double>');if("boolean"==typeof e)return'"'.concat(e,'"^^<http://www.w3.org/2001/XMLSchema#boolean>');if("object"===j(e)){var t=e["@value"],n=e["@type"],r=e["@language"];return void 0!==r?"".concat(JSON.stringify(t),"@").concat(r):"http://www.w3.org/2001/XMLSchema#string"===n?JSON.stringify(t):void 0!==n?"".concat(JSON.stringify(t),"^^<").concat(n,">"):JSON.stringify(t)}}function E(e,t,n,r,o,a){return M.apply(this,arguments)}function M(){var e;return e=regeneratorRuntime.mark((function e(t,n,r,o,a,i){var c,u,l,s,f,p,d,h,y,b,m,w,O,P,E,M,k,D,U,C,I,R,N,T,z,L,A,q,J;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(c=[],"s",n,r,"_:s-e"),c.push("<".concat(t,"> _:predicate _:object _:s-e .")),x(c,"o",o,a,"_:o-e"),c.push("_:subject _:predicate <".concat(t,"> _:o-e .")),c.push(""),e.next=8,fetch("/",g({},S,{body:c.join("\n")}));case 8:return u=e.sent,e.next=11,u.json();case 11:l=e.sent,s=l["@graph"].find((function(e){return"q:_:s"===e["u:instanceOf"]})),f=l["@graph"].find((function(e){return"q:_:o"===e["u:instanceOf"]})),p=!0,d=!1,h=void 0,e.prev=17,y=s["@graph"].value[Symbol.iterator]();case 19:if(p=(b=y.next()).done){e.next=30;break}if(m=b.value,w=m.value,O=m.wasDerivedFrom,void 0!==w&&0!==w.length){e.next=23;break}return e.abrupt("break",30);case 23:P=w.find((function(e){return"q:_:predicate"===e["@id"]})),E=P["rdf:value"]["@id"],M=w.find((function(e){return"q:_:object"===e["@id"]})),k=M["rdf:value"],D=v(O.hadMember,1),(U=D[0]["@id"])in i._graphs||("object"===j(k)&&"string"==typeof k["@id"]?i.addQuad(t,E,k["@id"],U):i.addQuad(t,E,_(k),U));case 27:p=!0,e.next=19;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(17),d=!0,h=e.t0;case 36:e.prev=36,e.prev=37,p||null==y.return||y.return();case 39:if(e.prev=39,!d){e.next=42;break}throw h;case 42:return e.finish(39);case 43:return e.finish(36);case 44:C=!0,I=!1,R=void 0,e.prev=47,N=f["@graph"].value[Symbol.iterator]();case 49:if(C=(T=N.next()).done){e.next=60;break}if(z=T.value,w=z.value,O=z.wasDerivedFrom,void 0!==w&&0!==w.length){e.next=53;break}return e.abrupt("break",60);case 53:L=w.find((function(e){return"q:_:subject"===e["@id"]})),A=L["rdf:value"]["@id"],q=w.find((function(e){return"q:_:predicate"===e["@id"]})),E=q["rdf:value"]["@id"],J=v(O.hadMember,1),(U=J[0]["@id"])in i._graphs||i.addQuad(A,E,t,U);case 57:C=!0,e.next=49;break;case 60:e.next=66;break;case 62:e.prev=62,e.t1=e.catch(47),I=!0,R=e.t1;case 66:e.prev=66,e.prev=67,C||null==N.return||N.return();case 69:if(e.prev=69,!I){e.next=72;break}throw R;case 72:return e.finish(69);case 73:return e.finish(66);case 74:case"end":return e.stop()}}),e,null,[[17,32,36,44],[37,,39,43],[47,62,66,74],[67,,69,73]])})),(M=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,c,"next",e)}function c(e){O(a,r,o,i,c,"throw",e)}i(void 0)}))}).apply(this,arguments)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="json-ld-1.1",q=document.querySelector("main"),J=document.title,Q=location.origin+location.pathname;var X,F,G=(X="",F=Object(l.getInitialContext)({base:X}),Object(l.process)({activeCtx:F,localCtx:h,processingMode:A})),B=function(e,t){return Object(s.compactIri)({activeCtx:G,iri:e,relativeTo:{vocab:!!t}})},V=function(e){return function(t){var n=t.target;return e(Object(d.o)(n.id()))}},W=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=I(t).call(this,e),n=!o||"object"!==k(o)&&"function"!=typeof o?R(r):o,L(R(n),"handleSubmit",(function(e){e.preventDefault(),t.validateURI(n.state.value)&&(location.hash=encodeURIComponent(n.state.value))})),L(R(n),"handleChange",(function(e){var t=e.target.value;return n.setState({value:t})})),L(R(n),"handleSelect",(function(e){return location.hash=encodeURIComponent(e)})),L(R(n),"handleUnselect",(function(e){})),L(R(n),"handleMouseOver",(function(e){})),L(R(n),"handleMouseOut",(function(e){})),L(R(n),"handleMount",(function(e){return n.cy=window.cy=e})),L(R(n),"handleDestroy",(function(){}));var a=decodeURIComponent(location.hash.slice(1));t.validateURI(a)?n.state=C({},t.Null,{id:a}):n.state=C({},t.Null,{value:""}),n.cy=null;var i=null===n.state.id?"":location.hash;return history.replaceState({id:a},J,Q+i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),T(t,null,[{key:"validateURI",value:function(e){try{new URL(e)}catch(e){return!1}return!0}}]),T(t,[{key:"componentDidMount",value:function(){var e=this;if(addEventListener("hashchange",(function(){var n=decodeURIComponent(location.hash.slice(1));if(t.validateURI(n)&&n!==e.state.id)if(history.replaceState({id:n},J,Q+location.hash),null===e.state.store){var r=new u.a;window.store=r,E(n,t.SubjectPageSize,[],t.ObjectPageSize,[],r).then((function(){return e.setState({id:n,store:r})}))}else e.state.store.forEach((function(e){e.subject.id!==n&&e.object.id!==n&&store.removeQuad(e)})),E(n,t.SubjectPageSize,[],t.ObjectPageSize,[],e.state.store).then((function(){return e.setState({id:n})}));else history.replaceState({id:e.state.id},J,Q),e.setState(C({},t.Null,{value:e.state.value||""}))})),null!==this.state.id){var n=new u.a;window.store=n,E(this.state.id,t.SubjectPageSize,[],t.ObjectPageSize,[],n).then((function(){return e.setState({store:n})}))}}},{key:"componentDidUpdate",value:function(e,t,n){var r=this;if(t.id!==this.state.id&&null!==this.state.store){var o={},a={},i={},c=this.state.store.getQuads(),u=!0,l=!1,s=void 0;try{for(var h,y=c[Symbol.iterator]();!(u=(h=y.next()).done);u=!0){var b=h.value,v=b.subject,m=b.predicate,g=b.object,w=b.graph;f.a.createNode(v,o,null);var O=m.id;if("Literal"===g.termType){var j=o[v.id].literals;Array.isArray(j[O])?j[O].push(g):j[O]=[g]}else if("NamedNode"===g.termType&&O===d.f)o[v.id].types.push(g.id);else{f.a.createNode(g,o,null);var S=encode(w.id),P=B(O,!0),x=D([v.id,g.id].map(encode),2),_=x[0],E=x[1];a[w.id]={id:S,iri:O,name:P,source:_,target:E}}}}catch(e){l=!0,s=e}finally{try{u||null==y.return||y.return()}finally{if(l)throw s}}for(var M in o){var k=o[M],U=(j=k.literals,k.types),C=D(Object(p.a)(M,U,j,B),3),I=C[0],R=C[1],N=C[2];i[M]={id:encode(M),svg:f.a.DataURIPrefix+encodeURIComponent(f.a.SVGPrefix+I),width:R,height:N}}this.cy.batch((function(){for(var e in r.cy.nodes().forEach((function(e){if(!e.removed()){var t=Object(d.o)(e.id());if(i.hasOwnProperty(t)){var n=i[t],r=n.svg,o=n.width,a=n.height;e.data({svg:r,width:o,height:a}),delete i[t]}else e.remove()}})),r.cy.add(Object.keys(i).map((function(e){return{group:"nodes",data:i[e]}}))).on("mouseover",V(r.handleMouseOver)).on("mouseout",V(r.handleMouseOut)).on("select",V(r.handleSelect)).on("unselect",V(r.handleUnselect)),r.cy.edges().forEach((function(e){var t=Object(d.o)(e.id());a.hasOwnProperty(t)?delete a[t]:e.remove()})),a)r.cy.add({group:"edges",data:a[e]});r.cy.layout({name:"breadthfirst",roots:"#".concat(encode(r.state.id)),circle:!1,spacingFactor:1,animate:!0,padding:50}).run().on("layoutstop",(function(){return r.cy.animate({fit:{padding:50}})}))}))}}},{key:"render",value:function(){var e=this.state,n=e.id,r=e.value;if(null===n){var a=!t.validateURI(r);return o.a.createElement("div",{className:"empty"},o.a.createElement("p",null,"Enter a URI:"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",placeholder:"http://...",value:r,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",disabled:a,value:"Go"})),o.a.createElement("p",null,"Examples:"),o.a.createElement("ul",null,t.Examples.map((function(e){return o.a.createElement("li",{key:e},o.a.createElement("a",{href:"#".concat(encodeURIComponent(e))},e))}))))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",null,o.a.createElement("div",{className:"path"}),o.a.createElement("button",null,"Page more incoming properties")," |"," ",o.a.createElement("button",null,"Page more outgoing properties")),this.renderGraph())}},{key:"renderGraph",value:function(){var e=this.state,t=e.store,n=e.id;return null===t?o.a.createElement("p",null,"Loading..."):0===t.size?o.a.createElement("p",null,"No data found for ",n):o.a.createElement(f.a,{focus:n,graph:null,store:t,context:G,onSelect:this.handleSelect,onUnselect:this.handleUnselect,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMount:this.handleMount,onDestroy:this.handleDestroy})}}]),t}(o.a.Component);L(W,"SubjectPageSize",10),L(W,"ObjectPageSize",10),L(W,"Examples",["http://schema.org/DigitalDocument","dweb:/ipfs/QmfCtdbfajVvzTsoUDMLBWvJtnh6mpA6SQTBwrMWCEhmdt"]),L(W,"Null",{value:null,id:null,store:null}),i.a.render(o.a.createElement(W,null),q)}});